<app-navbar></app-navbar>

<div class="tips-page">
  <div class="container">
    <div class="page-header">
      <h1>Mental Health Tips & Resources</h1>
      <p>Discover expert advice and strategies to improve your mental wellness</p>
    </div>

    <div class="search-filter-bar">
      <div class="search-box">
        <input 
          type="text" 
          placeholder="Search tips..." 
          [(ngModel)]="searchQuery"
          (input)="searchTips()"
        />
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </div>

      <div class="filter-tabs">
        @for (category of categories; track category.value) {
          <button 
            class="filter-tab"
            [class.active]="selectedCategory === category.value"
            (click)="filterByCategory(category.value)"
          >
            {{ category.label }}
          </button>
        }
      </div>
    </div>

    @if (loading) {
      <div class="loading">Loading tips...</div>
    } @else {
      <div class="tips-grid">
        @for (tip of filteredTips; track tip.id) {
          <div class="tip-card card" (click)="viewTip(tip)">
            <div class="tip-category">{{ tip.category }}</div>
            <h3>{{ tip.title }}</h3>
            <p>{{ tip.excerpt }}</p>
            <button class="read-more-btn">Read More →</button>
          </div>
        }
      </div>

      @if (filteredTips.length === 0) {
        <div class="empty-state">
          <p>No tips found. Try adjusting your search or filters.</p>
        </div>
      }
    }
  </div>
</div>

<!-- Tip Detail Modal -->
@if (selectedTip) {
  <div class="modal-overlay" (click)="closeTipDetail()">
    <div class="modal-content card" (click)="$event.stopPropagation()">
      <button class="close-btn" (click)="closeTipDetail()">×</button>
      <div class="tip-category">{{ selectedTip.category }}</div>
      <h2>{{ selectedTip.title }}</h2>
      <div class="tip-content">
        {{ selectedTip.content }}
      </div>
    </div>
  </div>
}

<app-footer></app-footer>

